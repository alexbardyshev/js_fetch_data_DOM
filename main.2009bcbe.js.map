{"version":3,"sources":["scripts/main.js"],"names":["LIST_URL","DETAILS_URL","body","document","querySelector","list","createElement","append","getPhones","url","fetch","then","response","ok","Error","status","json","printErr","error","setTimeout","printList","value","innerHTML","map","el","name","join","catch","getPhonesDetailed","phoneId","phonesDetailed","result","e","id","res","push"],"mappings":";AAAA,aAEA,IAAMA,EACF,wEACEC,EACF,oEAEEC,EAAOC,SAASC,cAAc,QAC9BC,EAAOF,SAASG,cAAc,MAEpCJ,EAAKK,OAAOF,GAEZ,IAAMG,EAAY,SAAAC,GACTC,OAAAA,MAAMD,GAAKE,KAAK,SAAAC,GACjB,IAACA,EAASC,GACN,MAAA,IAAIC,MAA2BF,oBAAAA,EAASG,QAGzCH,OAAAA,EAASI,UAIpB,SAASC,EAASC,GAChBC,WAAW,WACH,MAAA,IAAIL,MAAwCI,iCAAAA,IACjD,KAGL,SAASE,EAAUC,GACjBhB,EAAKiB,UAAYD,EACdE,IAAI,SAAAC,GACWA,MAAAA,OAAAA,OAAAA,EAAGC,KAAjB,WAEDC,KAAK,IAGVlB,EAAUR,GAAUW,KAAKS,GAAWO,MAAMV,GAE1C,IAAMW,EAAoB,SAACnB,EAAKoB,GACvBnB,OAAAA,MAASD,GAAAA,OAAAA,GAAMoB,OAAAA,EAAf,UAA+BlB,KAAK,SAAAC,GACrC,IAACA,EAASC,GACN,MAAA,IAAIC,MAA2BF,oBAAAA,EAASG,QAGzCH,OAAAA,EAASI,UAIdc,EAAiB,GAEvBtB,EAAUR,GAAUW,KAAK,SAAAoB,GACvBA,EAAOR,IAAI,SAAAS,GACTJ,EAAkB3B,EAAa+B,EAAEC,IAAItB,KAAK,SAAAuB,GACxCJ,EAAeK,KAAK,CAACH,EAAGE","file":"main.2009bcbe.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst LIST_URL\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones.json';\nconst DETAILS_URL\n  = 'https://mate-academy.github.io/phone-catalogue-static/api/phones/';\n\nconst body = document.querySelector('body');\nconst list = document.createElement('ul');\n\nbody.append(list);\n\nconst getPhones = url => {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(`Error from server`, response.status);\n    }\n\n    return response.json();\n  });\n};\n\nfunction printErr(error) {\n  setTimeout(() => {\n    throw new Error(`Can't recieve data from server`, error);\n  }, 1000);\n}\n\nfunction printList(value) {\n  list.innerHTML = value\n    .map(el => {\n      return `<li>${el.name}</li>`;\n    })\n    .join('');\n}\n\ngetPhones(LIST_URL).then(printList).catch(printErr);\n\nconst getPhonesDetailed = (url, phoneId) => {\n  return fetch(`${url}${phoneId}.json`).then(response => {\n    if (!response.ok) {\n      throw new Error(`Error from server`, response.status);\n    }\n\n    return response.json();\n  });\n};\n\nconst phonesDetailed = [];\n\ngetPhones(LIST_URL).then(result => {\n  result.map(e => {\n    getPhonesDetailed(DETAILS_URL, e.id).then(res => {\n      phonesDetailed.push([e, res]);\n    });\n  });\n});\n"]}